:root {
  --bg: #0b0c10;
  --card: #111218;
  --text: #e6e7eb;
  --muted: #a3a7b3;
  --brand: #67b8ff;
  --brand-2: #7ae0b8;
  --ring: #264b6a;
  --ok: #25d366;
  --warn: #ffb020;
  --err: #ff6b6b;
}

* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background: radial-gradient(80vw 80vh at 80% -10%, #0f1221 10%, transparent 40%), linear-gradient(180deg, #0a0b0e, #0b0c10); color: var(--text); min-height: 100svh; background-color: #0b0c10; overscroll-behavior-y: contain; }
.container { width: min(1100px, 92vw); margin: 0 auto; }

.site-header {
  position: sticky;
  top: 0;
  /* Frosted glass (毛玻璃) effect */
  background: rgba(13, 16, 24, 0.35);
  -webkit-backdrop-filter: blur(12px) saturate(140%);
  backdrop-filter: blur(12px) saturate(140%);
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  box-shadow: 0 1px 0 rgba(255,255,255,0.04) inset, 0 6px 20px rgba(0,0,0,0.25);
  z-index: 10;
}
.site-header, .main, .site-footer { position: relative; z-index: 1; }
.header-inner { display: flex; align-items: center; justify-content: space-between; padding: 14px 0; }
.brand { display: flex; align-items: center; gap: 10px; font-weight: 600; }
.brand .logo-circle { width: 14px; height: 14px; border-radius: 50%; background: radial-gradient(circle at 30% 30%, var(--brand), var(--brand-2)); box-shadow: 0 0 18px color-mix(in oklab, var(--brand) 50%, transparent); }
.brand-text { letter-spacing: 0.3px; }
.nav-link { color: var(--text); opacity: .9; text-decoration: none; padding: 6px 10px; border-radius: 8px; transition: .2s ease; }
.nav-link:hover { background: rgba(26, 28, 36, 0.5); }

.main { display: grid; grid-template-columns: 1fr; gap: 16px; padding: 18px 0 40px; }
.card { background: linear-gradient(180deg, #0e1017, #101219); border: 1px solid #1a1e27; border-radius: 14px; padding: 18px; box-shadow: 0 1px 0 #1a1e27 inset, 0 10px 30px rgba(0,0,0,0.2); }
.card.soft { background: #0f1218; }

.title { margin: 4px 0 10px; font-size: 22px; }
.title.small { font-size: 18px; }
.subtitle { color: var(--muted); margin: 0 0 12px; }
.subtitle.tight { margin-bottom: 8px; }

.search-bar { display: grid; grid-template-columns: 1fr auto; gap: 10px; margin: 10px 0 14px; }
.input { width: 100%; background: #0b0e14; border: 1px solid #1a1e27; color: var(--text); border-radius: 10px; padding: 10px 12px; outline: none; transition: border .2s ease, box-shadow .2s ease; }
.input:focus { border-color: var(--ring); box-shadow: 0 0 0 4px rgba(103, 184, 255, 0.12); }
.btn { --bg: #1a1e27; background: var(--bg); color: var(--text); border: 1px solid #232736; padding: 10px 14px; border-radius: 10px; cursor: pointer; position: relative; transition: transform .08s ease, background .2s ease, border .2s ease, box-shadow .2s ease; }
.btn:not(.primary):hover { background: #20263a; }
.btn:active { transform: translateY(1px); }
.btn.primary { --bg: linear-gradient(90deg, #5caeff, #6fe7c0); color: #0c1016; border: 0; font-weight: 600; }

/* Focus and click glow ring */
.btn:focus-visible { outline: none; box-shadow: 0 0 0 4px rgba(103, 184, 255, 0.25); }
.btn::after { content: ""; position: absolute; inset: -2px; border-radius: inherit; pointer-events: none; box-shadow: 0 0 0 0 rgba(103,184,255,0); opacity: 0; }
@keyframes ring-pulse { from { box-shadow: 0 0 0 0 color-mix(in oklab, var(--brand) 80%, transparent); opacity: 1; } to { box-shadow: 0 0 0 16px rgba(103,184,255,0); opacity: 0; } }
.btn.btn-pulse::after { animation: ring-pulse .6s ease-out; }

.stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
.stat { background: rgba(11,13,20,0.35); -webkit-backdrop-filter: blur(8px) saturate(140%); backdrop-filter: blur(8px) saturate(140%); border: 1px solid rgba(255,255,255,0.05); border-radius: 12px; padding: 12px; text-align: center; box-shadow: 0 4px 16px rgba(0,0,0,.25) inset; }
.stat-value { font-size: 20px; font-weight: 700; }
.stat-label { color: var(--muted); font-size: 12px; margin-top: 4px; }

.flow { display: grid; gap: 10px; grid-template-columns: repeat(7, minmax(90px, 1fr)); align-items: start; }
.step { position: relative; padding: 10px; background: #0b0f16; border: 1px solid #182031; border-radius: 12px; text-align: center; height: 66px; display: grid; align-content: center; }
.step .dot { width: 10px; height: 10px; border-radius: 50%; margin: 0 auto 6px; background: #26324a; box-shadow: 0 0 0 2px #182031; transition: .25s ease; }
.step.active .dot { background: var(--brand-2); box-shadow: 0 0 0 4px rgba(122,224,184,.2), 0 0 20px rgba(122,224,184,.4); }
.step .label { font-size: 12px; color: var(--muted); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

.results-header { display: flex; align-items: center; justify-content: space-between; }
.orders { display: grid; grid-template-columns: 1fr; gap: 12px; }
.order { display: grid; gap: 8px; padding: 14px; border-radius: 12px; background: #0b0f16; border: 1px solid #182031; transition: transform .12s ease, border .2s ease; }
.order:hover { transform: translateY(-2px); border-color: #24314a; }
.order .row { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
.chip { padding: 4px 8px; border-radius: 999px; border: 1px solid #26324a; color: var(--muted); font-size: 12px; }
.chip.ok { border-color: #194530; color: #a2f5c4; }
.muted { color: var(--muted); font-size: 13px; }
.error { background: #160b0b; border: 1px solid #3a1717; color: #ffb9b9; border-radius: 10px; padding: 10px; }
.empty { color: var(--muted); text-align: center; padding: 20px; }
.loading { color: var(--muted); }
.hidden { display: none; }

/* Bulletin styles */
.bulletin { line-height: 1.6; color: var(--text); }
.bulletin h1, .bulletin h2, .bulletin h3 { margin: 12px 0 8px; }
.bulletin p { margin: 8px 0; color: var(--text); }
.bulletin a { color: var(--brand); text-decoration: underline; }
.bulletin img, .bulletin video, .bulletin iframe { max-width: 100%; height: auto; border-radius: 8px; display: block; margin: 8px 0; }
.bulletin ul, .bulletin ol { padding-left: 20px; }

/* Desktop table view for orders */
.orders-table { width: 100%; border-collapse: collapse; background: #0b0f16; border: 1px solid #182031; border-radius: 12px; overflow: clip; }
.orders-table thead th { text-align: left; font-weight: 600; color: var(--muted); background: #0e1118; border-bottom: 1px solid #182031; padding: 10px 12px; }
.orders-table tbody td { padding: 10px 12px; border-bottom: 1px solid #141a26; }
.orders-table tbody tr:hover { background: #0c1118; }
.orders-table .chip { display: inline-block; }

/* Flow arrows style (desktop only) */
@media (min-width: 900px) {
  .flow.arrows { grid-auto-flow: column; grid-auto-columns: minmax(120px, 1fr); }
  .flow.arrows .step { position: relative; padding-right: 28px; }
  .flow.arrows .step::after { content: '→'; position: absolute; right: 6px; top: 50%; transform: translateY(-50%); color: #5a657d; opacity: .9; }
  .flow.arrows .step:last-child::after { content: ''; }
}

.row { display: flex; align-items: center; }
.row.gap { gap: 10px; }
.row.between { justify-content: space-between; }
.row.center { align-items: center; }

.form-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
label { display: grid; gap: 6px; font-size: 13px; color: var(--muted); }

.site-footer { border-top: 1px solid #1c1e26; padding: 8px 0; margin-top: 8px; }
.footer-inner { display: flex; align-items: center; justify-content: space-between; color: var(--muted); }

/* Safe-area handling for iOS to avoid white bars */
@supports(padding:max(0px)) {
  .site-header { padding-top: max(env(safe-area-inset-top), 0px); }
  .site-footer { padding-bottom: max(env(safe-area-inset-bottom), 0px); }
}

@media (max-width: 720px) {
  .form-grid { grid-template-columns: 1fr; }
  .stats { grid-template-columns: 1fr; }
  .flow { grid-template-columns: repeat(2, minmax(120px, 1fr)); }
}
